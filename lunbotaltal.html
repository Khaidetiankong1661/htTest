<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0; padding: 0;}
			ul,li{list-style: none;}
			.all {
				width: 500px;
				height: 200px;
				border: 1px solid #CC0000;
				margin: 100px auto;
				padding: 10px;
				position: relative;
			}
			.screen {
				width: 500px;
				height: 200px;
				position: relative;
				overflow: hidden;
			}
			#ul {
				width: 10000px;
				height: 200px;
				position: absolute;
			}
			.screen li {
				float: left;
			}
			.all ol {
				/*width: 100px;*/
				position: absolute;
				right: 10px;
				bottom: 20px;
				/*background-color: #/*333333*/;*/
			}
			.all ol li {
				float: left;
				/*right: 20px;*/
				margin-right: 10px;
				background-color: pink;
				width: 20px;
				height: 20px;
				text-align: center;
			}
			.all ol li.current {
				background: yellow;
			}
		</style>
	</head>
	<body>
		<div class="all" id="all">
			<div class="screen">
				<ul id="ul">
					<li> <img src="img/lunbototal/1.jpg" width="500" height="200"/> </li>
					<li> <img src="img/lunbototal/2.jpg" width="500" height="200"/> </li>
					<li> <img src="img/lunbototal/3.jpg" width="500" height="200"/> </li>
					<li> <img src="img/lunbototal/4.jpg" width="500" height="200"/> </li>
					<li> <img src="img/lunbototal/5.jpg" width="500" height="200"/> </li>
				</ul>
			</div>
			<!--<ol>
				<li class="current">1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
				<li>5</li>
			</ol>-->
		</div>
	</body>
</html>


<script type="text/javascript">
	
	function animatenew(obj, target) {
		
		clearInterval(obj.timer);
		obj.timer = setInterval(function(){
			var speed = obj.offsetLeft < target ? 15 : -15;
		
		    obj.style.left = obj.offsetLeft + speed +"px";
		    var spa = target - obj.offsetLeft; 
		    if (Math.abs(spa) <= 15) {
		    		clearInterval(obj.timer);
		    		obj.style.left = target +"px";
		    }
		
		}, 100)
	}
	
	
	var all = document.getElementById("all");
	var ul = document.getElementById("ul");
	
	var imgArr = ul.children;
	
	
	ul.appendChild(imgArr[0].cloneNode(true));
	
	// 创建底部小框框
	var ol = document.createElement("ol");
	
	for (var i = 0; i < imgArr.length; i++) {
		var olli = document.createElement("li");
		olli.innerHTML = i + 1;
		ol.appendChild(olli);
	}
	all.appendChild(ol);
	
	ol.children[0].className = "current";
	
	window.onload = function(){
		
		var timer = null;
		
		var key = 0;
		
		
		timer = setInterval(autopalyss, 1000);
		function autopalyss(){
			key ++;
			
			if (key > imgArr.length - 1) {
				ul.style.left = 0;
				key = 1;
			} 
			animatenew(ul, -key * 500);
			
			
		}
		
//		for (var i = 0; i< imgArr.length; i++) {
//			animatenew(ul, -i * 500);
//		}
//		
		
		
	}

	
</script>